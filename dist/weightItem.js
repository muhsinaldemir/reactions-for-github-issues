import{setStorageData,getOneReactionWeightFromStorage,createElement}from"./utils.js";class WeightItem extends HTMLElement{constructor(){super();const e=this.getAttribute("name"),t=this.attachShadow({mode:"open"}),n=createElement("span",t,{properties:{id:"wrapper"}}),i=(createElement("img",n,{properties:{src:this.getAttribute("img")??"images/default.png",alt:e}}),createElement("span",n,{properties:{id:"weightValue"}})),r=createElement("input",n,{properties:{type:"range",id:"slider",min:this.getAttribute("min")??-1,max:this.getAttribute("max")??1,step:this.getAttribute("step")??.1},eventListeners:{input:e=>{i.innerHTML=parseFloat(e.target.value).toFixed(1)},change:t=>{i.innerHTML=parseFloat(t.target.value).toFixed(1),setStorageData(e,parseFloat(t.target.value))}}});getOneReactionWeightFromStorage(e).then((e=>{r.setAttribute("value",e),i.innerHTML=parseFloat(e).toFixed(1)})).catch((e=>{console.log("getReactionWeights error",e)})),createElement("style",t).textContent="\n  img {\n      width: 20px;\n      height: 20px;\n      margin-right: 10px;\n  }\n  #wrapper {\n    display: flex;\n    flex-direction: row;\n  }\n  #icon {\n    margin-right: 55px;\n  }\n  #slider {\n  margin-left: 10px;\n  }\n  #weightValue {\n    min-width: 25px;\n  }\n"}}customElements.define("weight-item",WeightItem);